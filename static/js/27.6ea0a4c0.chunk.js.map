{"version":3,"sources":["assets/js/libs/request.js","components/header/subHeader.js","components/header/subHeader.module.css","assets/images/user/my/default-head.png","assets/css/user/profile/index.module.css","pages/user/profile/index.js"],"names":["oLoad","ReactDOM","findDOMNode","document","getElementById","request","pUrl","pType","toLocaleLowerCase","data","showLoad","config","headers","params","Object","key","FormData","append","method","body","encodeURIComponent","slice","fetch","then","res","hideLoad","json","style","display","SubHeader","this","props","location","pathname","path","history","replace","goBack","className","Css","onClick","bind","title","getClick","React","Component","withRouter","module","exports","ProfileIndex","state","sHead","sNickName","sPoints","sGender","iGender","sHeadName","getUserInfo","setState","callback","sUrl","baseUrl","user","uid","token","isLogin","code","head","nickname","gender","BUTTONS","showActionSheetWithOptions","options","cancelButtonIndex","length","maskClosable","onTouchStart","e","preventDefault","buttonIndex","info","match","jData","headfile","refs","files","msbox","right-text","onClickRightBtn","submitSave","src","require","alt","ref","type","onChange","uploadHead","placeholder","value","target","selectGender","readOnly","connect"],"mappings":"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","file":"static/js/27.6ea0a4c0.chunk.js","sourcesContent":["import ReactDOM from 'react-dom';\nimport {fetch} from 'whatwg-fetch';\nlet oLoad=ReactDOM.findDOMNode(document.getElementById(\"page-load\"));\nfunction request(pUrl,pType='get'.toLocaleLowerCase(),data={}){\n    showLoad();\n    let config={},headers={},params='';\n    if(pType===\"file\".toLocaleLowerCase()){\n        pType=\"post\";\n        if(data instanceof Object){\n            params=new FormData();\n            for(let key in data){\n                params.append(key,data[key]);\n            }\n        }\n        config={\n            method:pType,\n            body:params\n        }\n    }\n    else if (pType ===\"get\".toLocaleLowerCase()){\n        config = {\n            method: pType\n        }\n    }else{\n        headers = {\n            'Content-Type':'application/x-www-form-urlencoded'\n        }\n        if (data instanceof Object){\n            for (let key in data){\n                params+=`&${key}=${encodeURIComponent(data[key])}`;\n            }\n            params = params.slice(1)\n        }\n        config = {\n            method: pType,\n            headers,\n            body:params\n        }\n    }\n    return fetch(pUrl,config).then(res=> {\n            hideLoad();\n            return res.json();\n        }\n    );\n}\nfunction showLoad(){\n    oLoad.style.display=\"block\";\n}\nfunction hideLoad(){\n    oLoad.style.display=\"none\";\n}\nexport {\n    request\n};","import React from 'react';\r\nimport {withRouter} from \"react-router\";\r\nimport config from '../../assets/js/conf/config';\r\nimport Css from './subHeader.module.css';\r\nclass  SubHeader extends React.Component{\r\n    componentDidMount(){\r\n   \r\n    }\r\n    goBack(){\r\n        if(this.props.location.pathname===config.path+\"address/index\"){\r\n            this.props.history.replace(config.path+\"balance/index\")\r\n        }else{\r\n            this.props.history.goBack();\r\n        }\r\n    }\r\n\r\n    //获取父组件的点击事件\r\n    getClick(){\r\n        this.props['onClickRightBtn']();\r\n    }   \r\n    render(){\r\n        return(\r\n            <div className={Css['sub-header']}>\r\n                <div className={Css[\"back\"]}  \r\n                    onClick={this.goBack.bind(this)}>\r\n                </div>\r\n                <div className={Css[\"title\"]}>{this.props.title}</div>\r\n                <div className={this.props[\"right-text\"]!==\"\"?Css[\"right-btn\"]:\"hide\"} onClick={this.getClick.bind(this)}>\r\n                    {this.props['right-text']}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(SubHeader);","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sub-header\":\"subHeader_sub-header__1pvh_\",\"back\":\"subHeader_back__3K4yL\",\"title\":\"subHeader_title__1gr8C\",\"right-btn\":\"subHeader_right-btn__1-dOl\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAACWCAIAAACzY+a1AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA4ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpiMzVmOWY2MS1mNTNkLTJhNDItOGFiYy1iZGFhNTUwODU1YzAiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQ0OUY4RjBCRUNEMTFFNkIxRjFFMTc5OURBMzYzOUUiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RUQ0OUY4RUZCRUNEMTFFNkIxRjFFMTc5OURBMzYzOUUiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5OWI2ODI4Ny1mNWFjLTQ3NzctOWZmZS1jZjMzZmRjMjY1NzgiIHN0UmVmOmRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDo3ZmZjOWRkNS01OGIwLTExNzktYjg2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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"page\":\"profile_page__byPIV\",\"main\":\"profile_main__1PyXA\",\"head\":\"profile_head__20ZFM\",\"list\":\"profile_list__2tPPE\",\"arrow\":\"profile_arrow__1CX3x\"};","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport config from '../../../assets/js/conf/config';\r\nimport { request } from '../../../assets/js/libs/request';\r\nimport SubHeader from '../../../components/header/subHeader'; \r\nimport Css from '../../../assets/css/user/profile/index.module.css';\r\nimport {ActionSheet,Toast} from 'antd-mobile';\r\nclass  ProfileIndex extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            sHead:\"\",\r\n            sNickName:'',\r\n            sPoints:0,\r\n            sGender:'',\r\n            iGender:0,\r\n            sHeadName:'',\r\n\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getUserInfo();\r\n    }\r\n    componentWillUnmount(){\r\n        this.setState=(state,callback)=>{\r\n            return;\r\n        }\r\n    }\r\n\r\n    //获取用户信息\r\n    getUserInfo(){\r\n        let sUrl=config.baseUrl+\"api/user/myinfo/userinfo/uid/\"+this.props.state.user.uid+\"?token=\"+config.token;\r\n        if(this.props.state.user.isLogin){\r\n            request(sUrl).then((res)=>{\r\n                if(res.code===200){\r\n                    this.setState({sHead:res.data.head,sNickName:res.data.nickname,iGender:res.data.gender,\r\n                        sGender:res.data.gender===\"1\"?\"男\":res.data.gender===\"2\"?\"女\":''},()=>{})\r\n                }\r\n            })\r\n        }\r\n        \r\n    }\r\n\r\n    //选择性别\r\n    selectGender(){\r\n        const BUTTONS = ['男', '女','取消'];\r\n        ActionSheet.showActionSheetWithOptions({\r\n            options: BUTTONS,\r\n            cancelButtonIndex: BUTTONS.length - 1,\r\n            //destructiveButtonIndex: BUTTONS.length - 2,\r\n            title: '选择性别',\r\n            //message: 'I am description, description, description',\r\n            maskClosable: true,\r\n            'data-seed': 'logId',\r\n            onTouchStart:e=>e.preventDefault(),},\r\n\r\n            (buttonIndex) => {\r\n                if(buttonIndex!==2){\r\n                    this.setState({ sGender: buttonIndex===0?\"男\":\"女\",\r\n                    iGender:buttonIndex===0?1:2,\r\n                    },);\r\n                }\r\n            }\r\n        );\r\n    }\r\n\r\n    //提交保存\r\n    submitSave(){\r\n        if(this.state.sHead===''){\r\n            Toast.info(\"请上传头像~\",1.7)\r\n            return false\r\n        }\r\n        if(this.state.sNickName.match(/^\\s*$/)){\r\n            Toast.info(\"请输入昵称\",1.7)\r\n            return false\r\n        }\r\n        if(this.state.sGender===''){\r\n            Toast.info(\"请输入性别\",1.7)\r\n            return false\r\n        }\r\n        let sUrl=config.baseUrl+\"/api/user/myinfo/updateuser?token=\"+config.token;\r\n        let jData={\r\n            uid:this.props.state.user.uid,nickname:this.state.sNickName,gender:this.state.iGender,\r\n            head:this.state.sHeadName\r\n        }\r\n        request(sUrl,\"post\",jData).then((res)=>{\r\n            if(res.code===200){\r\n                Toast.info(res.data,1.7,()=>{\r\n                    this.props.history.goBack();\r\n                    //this.props.history.replace(config.path+\"home/my\")\r\n                })\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    //头像上传\r\n    uploadHead(){ \r\n        let sUrl=config.baseUrl+\"/api/user/myinfo/formdatahead?token=\"+config.token;\r\n        request(sUrl,\"file\",{headfile:this.refs['headfile'].files[0]}).then((res)=>{\r\n            if(res.code===200){\r\n                this.setState({sHead:\"http://vueshop.glbuys.com/userfiles/head/\"+res.data.msbox,sHeadName:res.data.msbox})\r\n            }\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            <div className={Css['page']}>\r\n                <SubHeader title=\"个人资料\" right-text=\"保存\" onClickRightBtn={this.submitSave.bind(this)}></SubHeader>\r\n                <div className={Css[\"main\"]}>\r\n                    <ul className={Css['head']}>\r\n                        <li>头像</li>\r\n                        <li><img src={this.state.sHead!==''?this.state.sHead:require(\"../../../assets/images/user/my/default-head.png\")} alt={this.state.sNickName}/>\r\n                        <input ref=\"headfile\" type='file' onChange={this.uploadHead.bind(this)}/></li>\r\n                    </ul>\r\n                    <ul className={Css['list']}>\r\n                        <li>昵称</li>\r\n                        <li><input type=\"text\" placeholder=\"请设置昵称\" value={this.state.sNickName} onChange={(e)=>{\r\n                            this.setState({sNickName:e.target.value})\r\n                        }}/></li>\r\n                        <li className={Css['arrow']}></li>\r\n                    </ul>\r\n                    <ul className={Css['list']}>\r\n                        <li>性别</li>\r\n                        <li><input type=\"text\" placeholder=\"请选择性别\" onClick={this.selectGender.bind(this)} value={this.state.sGender} readOnly/></li>\r\n                        <li className={Css['arrow']}></li>\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default connect((state)=>{\r\n    return {\r\n        state:state\r\n    }\r\n})(ProfileIndex)"],"sourceRoot":""}
(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[21],{382:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(69),r=a.n(n),o=a(160),s=r.a.findDOMNode(document.getElementById("page-load"));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get".toLocaleLowerCase(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i();var n={},r={},s="";if(t==="file".toLocaleLowerCase()){if(t="post",a instanceof Object)for(var c in s=new FormData,a)s.append(c,a[c]);n={method:t,body:s}}else if(t==="get".toLocaleLowerCase())n={method:t};else{if(r={"Content-Type":"application/x-www-form-urlencoded"},a instanceof Object){for(var u in a)s+="&".concat(u,"=").concat(encodeURIComponent(a[u]));s=s.slice(1)}n={method:t,headers:r,body:s}}return Object(o.a)(e,n).then((function(e){return d(),e.json()}))}function i(){s.style.display="block"}function d(){s.style.display="none"}},386:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"c",(function(){return l}));var n=a(390),r=a.n(n),o=a(388),s=a(7),c=a(382);function i(){r.a.init({offset:100,throttle:0})}function d(e,t){e=e||window.location.search,t=t||window.location.hash;var a=function(e,t){if(e){var a={};return e.replace(t,(function(e,t,n,r){a[t]=r})),a}};return{search:a(e,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:a(t,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){document.body.scrollTop=e,document.documentElement.scrollTop=e}),500)}function l(e){var t=s.a.baseUrl+"/api/home/user/safe?token="+s.a.token;Object(c.a)(t,"post",{uid:e.state.user.uid,auth_token:e.state.user.authToken}).then((function(t){200!==t.code&&(e.dispatch(o.a.user.outLogin()),e.dispatch(o.a.cart.clearCart()),e.history.replace(s.a.path+"login/index"))}))}},387:function(e,t,a){"use strict";var n=a(52),r=a(53),o=a(55),s=a(54),c=a(1),i=a.n(c),d=a(37),u=a(7),l=a(389),f=a.n(l),m=function(e){Object(o.a)(a,e);var t=Object(s.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"goBack",value:function(){this.props.location.pathname===u.a.path+"address/index"?this.props.history.replace(u.a.path+"balance/index"):this.props.history.goBack()}},{key:"getClick",value:function(){this.props.onClickRightBtn()}},{key:"render",value:function(){return i.a.createElement("div",{className:f.a["sub-header"]},i.a.createElement("div",{className:f.a.back,onClick:this.goBack.bind(this)}),i.a.createElement("div",{className:f.a.title},this.props.title),i.a.createElement("div",{className:""!==this.props["right-text"]?f.a["right-btn"]:"hide",onClick:this.getClick.bind(this)},this.props["right-text"]))}}]),a}(i.a.Component);t.a=Object(d.g)(m)},388:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"addHistoryKeywords",(function(){return s}));var r={};a.r(r),a.d(r,"addCart",(function(){return c})),a.d(r,"delItem",(function(){return i})),a.d(r,"checkItem",(function(){return d})),a.d(r,"setAllChecked",(function(){return u})),a.d(r,"incAmount",(function(){return l})),a.d(r,"decAmount",(function(){return f})),a.d(r,"changeAmount",(function(){return m})),a.d(r,"clearCart",(function(){return h}));var o={};function s(e){return{type:"addHk",data:e}}function c(e){return{type:"addCart",data:e}}function i(e){return{type:"delItem",data:e}}function d(e){return{type:"checkItem",data:e}}function u(e){return{type:"allItem",data:e}}function l(e){return{type:"incAmount",data:e}}function f(e){return{type:"decAmount",data:e}}function m(e){return{type:"changeAmount",data:e}}function h(e){return{type:"clearCart",data:e}}function p(e){return{type:"login",data:e}}function v(){return{type:"outLogin",data:{}}}a.r(o),a.d(o,"login",(function(){return p})),a.d(o,"outLogin",(function(){return v}));t.a={hk:n,cart:r,user:o}},389:function(e,t,a){e.exports={"sub-header":"_1tYQSWE0eNM6Iu_B_jiJFD",back:"_2Lzz8D_AeNWRjPyUrH2_S2",title:"_1sWYJVYekCdrxBAi3kEm3p","right-btn":"_1UbjrHkAJM5t8wjVZqephO"}},390:function(e,t,a){var n,r;r=document,void 0===(n=function(){return function(e){var t,a,n,r,o,s={},c=function(){},i=function(e,t){if(function(e){return null===e.offsetParent}(e))return!1;var a=e.getBoundingClientRect();return a.right>=t.l&&a.bottom>=t.t&&a.left<=t.r&&a.top<=t.b},d=function(){(r||!a)&&(clearTimeout(a),a=setTimeout((function(){s.render(),a=null}),n))};return s.init=function(a){var i=(a=a||{}).offset||0,u=a.offsetVertical||i,l=a.offsetHorizontal||i,f=function(e,t){return parseInt(e||t,10)};t={t:f(a.offsetTop,u),b:f(a.offsetBottom,u),l:f(a.offsetLeft,l),r:f(a.offsetRight,l)},n=f(a.throttle,250),r=!1!==a.debounce,o=!!a.unload,c=a.callback||c,s.render(),document.addEventListener?(e.addEventListener("scroll",d,!1),e.addEventListener("load",d,!1)):(e.attachEvent("onscroll",d),e.attachEvent("onload",d))},s.render=function(){for(var a,n,r=document.querySelectorAll("img[data-echo], [data-echo-background]"),d=r.length,u={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},l=0;d>l;l++)n=r[l],i(n,u)?(o&&n.setAttribute("data-echo-placeholder",n.src),null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+n.getAttribute("data-echo-background")+")":n.src=n.getAttribute("data-echo"),o||(n.removeAttribute("data-echo"),n.removeAttribute("data-echo-background")),c(n,"load")):o&&(a=n.getAttribute("data-echo-placeholder"))&&(null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+a+")":n.src=a,n.removeAttribute("data-echo-placeholder"),c(n,"unload"));d||s.detach()},s.detach=function(){document.removeEventListener?e.removeEventListener("scroll",d):e.detachEvent("onscroll",d),clearTimeout(a)},s}(r)}.call(t,a,t,e))||(e.exports=n)},526:function(e,t,a){e.exports={page:"_2cmLq5G6LqkIOn2DMxJdCr",main:"W2Ohp0_rtCqEFDDV-H5Mo","address-nav":"_3fzTGBlxZmaApetPcuAr-z","address-nav-name-1":"_1eVGl40tkgUOjCZt90Q8bw","address-nav-name-2":"_1J8KexCWGWUDWNn4ztwOOe","address-list":"_2W4-OcRgwUxARAj8V6x9fu","address-info-wrap":"_3en2VBCQ6yDO2G4qmxLPuB","check-mark":"_2e4Mr7DbFVsvJeh3jvrgxg","address-info":"_1G4i7JUMCF2OnsDK2ylI3V",person:"_1iaMdWVxV_fcCGEIRLK4V_",address:"_2bpAK_WmYaeHKRbYYN56Hu",default:"_2avAjc313mO7sAJvwKL8dh","handle-wrap":"uaOhX2KHJX2iDWN6UO9mf",edit:"_3OjoCumv6RtsBTKyHT_gaX",del:"_3srgIZHPNvHLIGgD2ulZos"}},583:function(e,t,a){"use strict";a.r(t);a(414);var n=a(415),r=a.n(n),o=a(52),s=a(53),c=a(55),i=a(54),d=a(1),u=a.n(d),l=a(118),f=a(7),m=a(382),h=a(386),p=a(387),v=a(526),g=a.n(v),b=function(e){Object(c.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(o.a)(this,a),n=t.call(this,e),Object(h.c)(e),n.state={aAddress:[]},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.getAddress()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"pushPage",value:function(e){this.props.history.push(f.a.path+e)}},{key:"delAddress",value:function(e,t,a){var n=this;e.stopPropagation(),r.a.alert("","\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f",[{text:"\u53d6\u6d88",onPress:function(){},style:"default"},{text:"\u786e\u8ba4",onPress:function(){var e=n.state.aAddress;e.splice(t,1),n.setState({aAddress:e});var r=f.a.baseUrl+"/api/user/address/del?uid="+n.props.state.user.uid+"&aid="+a+"&token="+f.a.token;Object(m.a)(r).then((function(e){200===e.code&&(a===sessionStorage.addressId&&sessionStorage.removeItem("addressId"),a===localStorage.addressId&&localStorage.removeItem("addressId"))}))}}])}},{key:"getAddress",value:function(){var e=this,t=f.a.baseUrl+"/api/user/address/index?uid="+this.props.state.user.uid+"&token="+f.a.token;Object(m.a)(t).then((function(t){200===t.code&&e.setState({aAddress:t.data})}))}},{key:"selectAddress",value:function(e){sessionStorage.addressId=e,this.props.history.replace(f.a.path+"balance/index")}},{key:"modAddress",value:function(e,t){e.stopPropagation(),this.pushPage("address/mod?aid="+t)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:g.a.page},u.a.createElement(p.a,{title:"\u9009\u62e9\u6536\u8d27\u5730\u5740"}),u.a.createElement("div",{className:g.a.main},u.a.createElement("div",{className:g.a["address-nav"]},u.a.createElement("div",{className:g.a["address-nav-name-1"]},"\u914d\u9001\u5730\u5740"),u.a.createElement("div",{className:g.a["address-nav-name-2"],onClick:this.pushPage.bind(this,"address/add")},"\u271a\u6dfb\u52a0\u6536\u8d27\u5730\u5740")),this.state.aAddress.length>0?this.state.aAddress.map((function(t,a){return u.a.createElement("div",{key:a,className:g.a["address-list"],onClick:e.selectAddress.bind(e,t.aid)},u.a.createElement("div",{className:g.a["address-info-wrap"]},u.a.createElement("div",{className:"1"===t.isdefault?g.a["check-mark"]:"hide"}),u.a.createElement("div",{className:g.a["address-info"]},u.a.createElement("div",{className:g.a.person},u.a.createElement("span",null,t.name),u.a.createElement("span",null,t.cellphone)),u.a.createElement("div",{className:g.a.address},u.a.createElement("span",{className:"1"===t.isdefault?g.a.default:"hide"},"\u9ed8\u8ba4"),u.a.createElement("span",null,t.province," ",t.city," ",t.area)))),u.a.createElement("div",{className:g.a["handle-wrap"]},u.a.createElement("div",{className:g.a.edit,onClick:function(a){e.modAddress(a,t.aid)}}),u.a.createElement("div",{className:g.a.del,onClick:function(n){e.delAddress(n,a,t.aid)}})))})):u.a.createElement("div",{className:"null-item"},"\u60a8\u8fd8\u672a\u6dfb\u52a0\u6536\u8d27\u5730\u5740")))}}]),a}(u.a.Component);t.default=Object(l.b)((function(e){return{state:e}}))(b)}}]);
//# sourceMappingURL=21.4aafcfde.chunk.js.map
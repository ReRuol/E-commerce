{"version":3,"sources":["assets/js/libs/request.js","assets/js/utils/util.js","actions/hkaction.js","actions/cartaction.js","actions/useraction.js","actions/index.js","assets/js/libs/echo.js","assets/css/home/goods/details.module.css","pages/home/goods/details.js"],"names":["oLoad","ReactDOM","findDOMNode","document","getElementById","request","pUrl","pType","toLocaleLowerCase","data","showLoad","config","headers","params","Object","key","FormData","append","method","body","encodeURIComponent","slice","fetch","then","res","hideLoad","json","style","display","lazyImg","echo","init","offset","throttle","localParam","search","hash","window","location","fn","str","reg","replace","$0","$1","$2","$3","RegExp","setScrollTop","val","setTimeout","scrollTop","documentElement","safeAuth","props","sUrl","baseUrl","token","uid","state","user","auth_token","authToken","code","dispatch","action","outLogin","cart","clearCart","history","path","addHistoryKeywords","type","addCart","delItem","checkItem","setAllChecked","incAmount","decAmount","changeAmount","login","hk","historykeywords","cartaction","useraction","t","define","e","n","o","r","c","a","u","i","offsetParent","d","getBoundingClientRect","right","l","bottom","left","top","b","clearTimeout","render","offsetVertical","f","offsetHorizontal","s","parseInt","offsetTop","offsetBottom","offsetLeft","offsetRight","debounce","unload","callback","addEventListener","attachEvent","querySelectorAll","length","innerHeight","clientHeight","innerWidth","clientWidth","setAttribute","src","getAttribute","backgroundImage","removeAttribute","detach","removeEventListener","detachEvent","module","exports","DetailsItems","asyncComponents","DetailsContent","DetailsReviews","GoodsDetails","gid","tabStyle","bItem","bContent","bReviews","this","setTabStyle","newProps","setState","pathname","goBack","url","push","className","Css","onClick","bind","replacePage","id","pushPage","aCartData","component","to","React","Component","connect"],"mappings":"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","file":"static/js/28.cd7956ff.chunk.js","sourcesContent":["import ReactDOM from 'react-dom';\nimport {fetch} from 'whatwg-fetch';\nlet oLoad=ReactDOM.findDOMNode(document.getElementById(\"page-load\"));\nfunction request(pUrl,pType='get'.toLocaleLowerCase(),data={}){\n    showLoad();\n    let config={},headers={},params='';\n    if(pType===\"file\".toLocaleLowerCase()){\n        pType=\"post\";\n        if(data instanceof Object){\n            params=new FormData();\n            for(let key in data){\n                params.append(key,data[key]);\n            }\n        }\n        config={\n            method:pType,\n            body:params\n        }\n    }\n    else if (pType ===\"get\".toLocaleLowerCase()){\n        config = {\n            method: pType\n        }\n    }else{\n        headers = {\n            'Content-Type':'application/x-www-form-urlencoded'\n        }\n        if (data instanceof Object){\n            for (let key in data){\n                params+=`&${key}=${encodeURIComponent(data[key])}`;\n            }\n            params = params.slice(1)\n        }\n        config = {\n            method: pType,\n            headers,\n            body:params\n        }\n    }\n    return fetch(pUrl,config).then(res=> {\n            hideLoad();\n            return res.json();\n        }\n    );\n}\nfunction showLoad(){\n    oLoad.style.display=\"block\";\n}\nfunction hideLoad(){\n    oLoad.style.display=\"none\";\n}\nexport {\n    request\n};","import echo from '../libs/echo.js';\nimport action from \"../../../actions\";\nimport config from \"../conf/config\";\nimport {request} from \"../libs/request\";\nfunction lazyImg(){\n    echo.init({\n        offset : 100,//可视区域多少像素可以被加载\n        throttle : 0 //设置图片延迟加载的时间\n    });\n}\nfunction localParam(search, hash) {\n    search = search || window.location.search;\n    hash = hash || window.location.hash;\n    var fn = function(str, reg) {\n        if (str) {\n            var data = {};\n            str.replace(reg, function($0, $1, $2, $3) {\n                data[$1] = $3;\n            });\n            return data;\n        }\n    }\n    return {\n        search : fn(search, new RegExp(\"([^?=&]+)(=([^&]*))?\", \"g\")) || {},\n        hash : fn(hash, new RegExp(\"([^#=&]+)(=([^&]*))?\", \"g\")) || {}\n    };\n}\nfunction setScrollTop(val=0){\n    setTimeout(()=>{\n        document.body.scrollTop=val;//兼容IE与safari浏览器\n        document.documentElement.scrollTop=val;//兼容谷歌与火狐浏览器\n    },500);\n}\n//会员登录安全验证\nfunction safeAuth(props){\n    let sUrl=config.baseUrl+\"/api/home/user/safe?token=\"+config.token;\n    request(sUrl, \"post\",{uid:props.state.user.uid,auth_token:props.state.user.authToken}).then(res=>{\n        if (res.code!==200){\n            props.dispatch(action.user.outLogin());\n            props.dispatch(action.cart.clearCart());\n            props.history.replace(config.path+\"login/index\");\n        }\n    })\n}\nexport {\n    lazyImg,\n    localParam,\n    setScrollTop,\n    safeAuth,\n}","function addHistoryKeywords(data){\n    return {\n        type:\"addHk\",\n        data:data\n    }\n}\nexport{\n    addHistoryKeywords\n}","//添加购物车商品\nfunction addCart(data){\n    return {\n        type:\"addCart\",\n        data:data,\n    }\n}\n\n//删除购物车商品\nfunction delItem(data){\n    return {\n        type:\"delItem\",\n        data:data,\n    }\n}\n\n//选择购物车商品\nfunction checkItem(data){\n    return {\n        type:\"checkItem\",\n        data:data,\n    }\n}\n\n//全选购物车商品\nfunction setAllChecked(data){\n    return {\n        type:\"allItem\",\n        data:data,\n    }\n}\n\n//增加购物车商品数量\nfunction incAmount(data){\n    return {\n        type:\"incAmount\",\n        data:data,\n    }\n}\n\n//减少购物车商品数量\nfunction decAmount(data){\n    return {\n        type:\"decAmount\",\n        data:data,\n    }\n}\n\n//改变数量\nfunction changeAmount(data){\n    return {\n        type:\"changeAmount\",\n        data:data,\n    }\n}\n\n//清空购物车\nfunction clearCart(data){\n    return {\n        type:\"clearCart\",\n        data:data,\n    }\n}\nexport{\n    addCart,\n    delItem,\n    checkItem,\n    setAllChecked,\n    incAmount,\n    decAmount,\n    changeAmount,\n    clearCart,\n}","//会员登录\nfunction login(data){\n    return {\n        type:\"login\",\n        data:data\n    }\n}\n\n//退出会员\nfunction outLogin(){\n    return {\n        type:\"outLogin\",\n        data:{}\n    }\n}\nexport{\n    login,\n    outLogin,\n}","import * as historykeywords from './hkaction.js';\nimport * as cartaction from './cartaction.js';\nimport * as useraction from './useraction.js';\nexport default {\n    hk:historykeywords,\n    cart:cartaction,\n    user:useraction,\n}","/*eslint-disable*/\n!function(t,e){\"function\"==typeof define&&define.amd?define(function(){return e(t)}):\"object\"==typeof exports?module.exports=e:t.echo=e(t)}(document,function(t){var e,n,o,r,c,a={},u=function(){},d=function(t){return null===t.offsetParent},i=function(t,e){if(d(t)){return !1}var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},l=function(){(r||!n)&&(clearTimeout(n),n=setTimeout(function(){a.render(),n=null},o))};return a.init=function(n){n=n||{};var d=n.offset||0,i=n.offsetVertical||d,f=n.offsetHorizontal||d,s=function(t,e){return parseInt(t||e,10)};e={t:s(n.offsetTop,i),b:s(n.offsetBottom,i),l:s(n.offsetLeft,f),r:s(n.offsetRight,f)},o=s(n.throttle,250),r=n.debounce!==!1,c=!!n.unload,u=n.callback||u,a.render(),document.addEventListener?(t.addEventListener(\"scroll\",l,!1),t.addEventListener(\"load\",l,!1)):(t.attachEvent(\"onscroll\",l),t.attachEvent(\"onload\",l))},a.render=function(){for(var n,o,r=document.querySelectorAll(\"img[data-echo], [data-echo-background]\"),d=r.length,l={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},f=0;d>f;f++){o=r[f],i(o,l)?(c&&o.setAttribute(\"data-echo-placeholder\",o.src),null!==o.getAttribute(\"data-echo-background\")?o.style.backgroundImage=\"url(\"+o.getAttribute(\"data-echo-background\")+\")\":o.src=o.getAttribute(\"data-echo\"),c||(o.removeAttribute(\"data-echo\"),o.removeAttribute(\"data-echo-background\")),u(o,\"load\")):c&&(n=o.getAttribute(\"data-echo-placeholder\"))&&(null!==o.getAttribute(\"data-echo-background\")?o.style.backgroundImage=\"url(\"+n+\")\":o.src=n,o.removeAttribute(\"data-echo-placeholder\"),u(o,\"unload\"))}d||a.detach()},a.detach=function(){document.removeEventListener?t.removeEventListener(\"scroll\",l):t.detachEvent(\"onscroll\",l),clearTimeout(n)},a});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details-header\":\"_39iJhqDMi8YX65ydYSRUnr\",\"back\":\"zM4MSf9ke9IzEurcST2Ob\",\"tab-wrap\":\"sUeU76Cx6O7XR0LYpLbon\",\"tab-name\":\"_1ACbRNc5nRVjRikYmscyoi\",\"active\":\"_2_0AW-Pp-UxtnCGY0opozU\",\"cart-icon\":\"_2FaTkfZ93eew3q9DaOvLg5\",\"spot\":\"_1Ke1fqwNp6l6u_O7C_265m\",\"sub-page\":\"_1oAhCvCaFUjlZlnbKecB1M\"};","import React from 'react';\r\nimport {connect} from \"react-redux\";\r\nimport  {Route,Switch,Redirect}  from  'react-router-dom';\r\nimport asyncComponents from '../../../components/async/AsyncComponent';\r\n/* import config from '../../../assets/js/conf/config.js';\r\nimport {request} from \"../../../assets/js/libs/request\";*/\r\nimport {localParam} from '../../../assets/js/utils/util.js';\r\nimport Css from '../../../assets/css/home/goods/details.module.css';\r\nimport config from '../../../assets/js/conf/config';\r\nconst DetailsItems=asyncComponents(()=>import('./details_item'));\r\nconst DetailsContent=asyncComponents(()=>import('./details_content'));\r\nconst DetailsReviews=asyncComponents(()=>import('./details_reviews'));\r\nclass  GoodsDetails extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        this.state={\r\n            gid:props.location.search!==\"\"?localParam(props.location.search).search.gid:\"\",\r\n            tabStyle:{\r\n                bItem:true,\r\n                bContent:false,\r\n                bReviews:false,\r\n            }\r\n        }\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.setTabStyle(this.props);\r\n    }\r\n    UNSAFE_componentWillReceiveProps(newProps){\r\n        this.setTabStyle(newProps);\r\n        \r\n    }\r\n    componentWillUnmount(){\r\n        this.setState=(state,callback)=>{\r\n            return;\r\n        }\r\n    }\r\n    //设置选项卡切换样式\r\n    setTabStyle(props){\r\n        switch(props.location.pathname){\r\n            case config.path+\"goods/details/item\":\r\n                this.setState({tabStyle:{bItem:true,bContent:false,bReviews:false}});\r\n                break;\r\n             case config.path+\"goods/details/content\":\r\n                this.setState({tabStyle:{bItem:false,bContent:true,bReviews:false}});\r\n                break;\r\n             case config.path+\"goods/details/reviews\":\r\n                this.setState({tabStyle:{bItem:false,bContent:false,bReviews:true}});\r\n                break;\r\n             default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    goBack(){\r\n        this.props.history.goBack();\r\n    }\r\n    replacePage(url){\r\n        this.props.history.replace(config.path+url);\r\n    }\r\n    pushPage(url){\r\n        this.props.history.push(config.path+url);\r\n    }\r\n    render(){\r\n        return(\r\n            <div>\r\n                <div className={Css[\"details-header\"]}>\r\n                    <div className={Css['back']} onClick={this.goBack.bind(this)}></div>\r\n                    <div className={Css['tab-wrap']}>\r\n                        <div className={this.state.tabStyle.bItem?Css[\"tab-name\"]+\" \"+Css['active']:Css[\"tab-name\"]} onClick={this.replacePage.bind(this,\"goods/details/item?gid=\"+this.state.gid+'')}>商品</div>\r\n                        <div className={this.state.tabStyle.bContent?Css[\"tab-name\"]+\" \"+Css['active']:Css[\"tab-name\"]} onClick={this.replacePage.bind(this,\"goods/details/content?gid=\"+this.state.gid+'')}>详情</div>\r\n                        <div className={this.state.tabStyle.bReviews?Css[\"tab-name\"]+\" \"+Css['active']:Css[\"tab-name\"]} onClick={this.replacePage.bind(this,\"goods/details/reviews?gid=\"+this.state.gid+'')}>评价</div>\r\n                    </div>\r\n                    <div id=\"cart-icon\" className={Css['cart-icon']} onClick={this.pushPage.bind(this,\"home/cart\")}>\r\n                        <div className={this.props.state.cart.aCartData.length>0?Css[\"spot\"]:\"hide\"}></div>\r\n                    </div>\r\n                </div>\r\n                <div className={Css[\"subpage\"]}>\r\n                    <Switch>\r\n                        <Route path={config.path+\"goods/details/item\"} component={DetailsItems}></Route>\r\n                        <Route path={config.path+\"goods/details/content\"} component={DetailsContent}></Route>\r\n                        <Route path={config.path+\"goods/details/reviews\"} component={DetailsReviews}></Route>\r\n                        <Redirect to={config.path+\"goods/details/item\"}></Redirect>\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default connect((state)=>{\r\n    return {\r\n        state:state\r\n    }\r\n})(GoodsDetails)"],"sourceRoot":""}
(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[32],{400:function(t,e,a){t.exports=a.p+"static/media/lazyImg.639beef7.jpg"},403:function(t,e,a){var n,o=function(t,e){t instanceof Object&&(this.opts=t,this.iMaxPage=this.opts.maxPage,this.fnCallback=e,this.iOffsetBottom=this.opts.offsetBottom,this.iCurPage=this.opts.curPage,this.init())};o.prototype={init:function(){this.eventScroll()},eventScroll:function(){window.addEventListener("scroll",this.scrollBottom())},scrollBottom:function(){var t=this,e=!0;return function(){e&&(e=!1,setTimeout((function(){var a=document.documentElement.offsetHeight||document.body.offsetHeight,n=document.documentElement.scrollTop||document.body.scrollTop;a-((document.documentElement.clientHeight||document.body.clientHeight)+n)<=t.iOffsetBottom&&t.iCurPage<t.iMaxPage&&(t.iCurPage++,t.fnCallback(t.iCurPage)),e=!0}),100))}}},t.exports?t.exports=o:void 0===(n=function(){return o}.call(e,a,e,t))||(t.exports=n)},574:function(t,e,a){t.exports={"order-list":"_3Omahj0fBvAN8wI7RKb_ew","ordernum-wrap":"_nR_7MPqqIEDCLKlf9ORX",ordernum:"_2mQB7fWeRCzB_x0k1XwSB",status:"Rjd885Lyw5ua9LbnxQaWP","item-list":"_1J_Rzd7NhMXCuwGRElh0Zi",image:"_1clh24n6TMubi4zWf5pQ4A",title:"_UIgHjoUtcDnQ4ztkgycD",amount:"_3bisPNgXsyhJBzGb14alpb","status-btn":"_2V6WAZpG5GnA3Nx720tOEY","total-wrap":"_15Ky6fOYbk97w-MFIk8fdS",total:"g19uFqajBausrib3wMzu5"}},596:function(t,e,a){"use strict";a.r(e);var n=a(52),o=a(53),r=a(55),i=a(54),s=a(1),c=a.n(s),u=a(118),l=a(574),m=a.n(l),d=a(382),f=a(403),h=a.n(f),p=a(386),g=a(7),v=function(t){Object(r.a)(s,t);var e=Object(i.a)(s);function s(t){var a;return Object(n.a)(this,s),a=e.call(this,t),Object(p.c)(t),a.state={aOrder:[]},a.oUpRefresh=null,a.curPage=1,a.maxPage=0,a.offsetBottom=100,a}return Object(o.a)(s,[{key:"componentDidMount",value:function(){this.getData()}},{key:"componentWillUnmount",value:function(){this.oUpRefresh=null,this.setState=function(t,e){}}},{key:"getData",value:function(){var t=this,e=g.a.baseUrl+"/api/user/myorder/reviewOrder?uid="+this.props.state.user.uid+"&page="+this.curPage+"&token="+g.a.token;Object(d.a)(e).then((function(e){200===e.code&&(t.maxPage=e.pageinfo.pagenum,t.setState({aOrder:e.data},(function(){Object(p.a)(),t.getScrollPage()})))}))}},{key:"getScrollPage",value:function(){var t=this;this.oUpRefresh=new h.a({curPage:this.curPage,maxPage:this.maxPage,offsetBottom:this.offsetBottom},(function(e){var a=g.a.baseUrl+"/api/user/myorder/reviewOrder?uid="+t.props.state.user.uid+"&page="+t.curPage+"&token="+g.a.token;Object(d.a)(a).then((function(e){if(200===e.code&&e.data.length>0){for(var a=t.state.aOrder,n=0;n<e.data.length;n++)a.push(e.data[n]);t.setState({aOrder:a},(function(){Object(p.a)()}))}}))}))}},{key:"pushPage",value:function(t){this.props.history.push(g.a.path+t)}},{key:"render",value:function(){var t=this;return c.a.createElement(c.a.Fragment,null,this.state.aOrder.length>0?this.state.aOrder.map((function(e,n){return c.a.createElement("div",{key:n,className:m.a["order-list"],onClick:t.pushPage.bind(t,"order/detail?ordernum="+e.ordernum)},c.a.createElement("div",{className:m.a["ordernum-wrap"]},c.a.createElement("div",{className:m.a.ordernum},"\u8ba2\u5355\u7f16\u53f7:",e.ordernum),c.a.createElement("div",{className:m.a.status},"0"===e.status?"\u5f85\u4ed8\u6b3e":"1"===e.satus?"\u5f85\u6536\u8d27":"\u5df2\u6536\u8d27")),e.goods.length>0?e.goods.map((function(n,o){return c.a.createElement("div",{key:o,className:m.a["item-list"]},c.a.createElement("div",{className:m.a.image},c.a.createElement("img",{"data-echo":n.image,src:a(400),alt:n.title})),c.a.createElement("div",{className:m.a.title},n.title),c.a.createElement("div",{className:m.a.amount},"x",n.amount),c.a.createElement("div",{className:m.a["status-btn"],onClick:function(a){a.stopPropagation(),t.pushPage("order/add_review?gid="+n.gid+"&ordernum="+e.ordernum)}},"0"===n.isreview?"\u8bc4\u4ef7":"\u8ffd\u52a0\u8bc4\u4ef7"))})):"",c.a.createElement("div",{className:m.a["total-wrap"]},c.a.createElement("div",{className:m.a.total},"\u5b9e\u9645\u91d1\u989d\uff1a\xa5",e.total)))})):c.a.createElement("div",{className:"null-item"},"\u60a8\u8fd8\u6ca1\u6709\u76f8\u5173\u7684\u8ba2\u5355"))}}]),s}(c.a.Component);e.default=Object(u.b)((function(t){return{state:t}}))(v)}}]);
//# sourceMappingURL=32.f5710dae.chunk.js.map
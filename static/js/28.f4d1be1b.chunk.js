(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[28],{382:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n(69),o=n.n(a),i=n(160),r=o.a.findDOMNode(document.getElementById("page-load"));function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get".toLocaleLowerCase(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s();var a={},o={},r="";if(e==="file".toLocaleLowerCase()){if(e="post",n instanceof Object)for(var c in r=new FormData,n)r.append(c,n[c]);a={method:e,body:r}}else if(e==="get".toLocaleLowerCase())a={method:e};else{if(o={"Content-Type":"application/x-www-form-urlencoded"},n instanceof Object){for(var d in n)r+="&".concat(d,"=").concat(encodeURIComponent(n[d]));r=r.slice(1)}a={method:e,headers:o,body:r}}return Object(i.a)(t,a).then((function(t){return u(),t.json()}))}function s(){r.style.display="block"}function u(){r.style.display="none"}},385:function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"d",(function(){return l})),n.d(e,"a",(function(){return h}));var a=n(390),o=n.n(a),i=n(387),r=n(7),c=n(382);function s(){o.a.init({offset:100,throttle:0})}function u(t,e){t=t||window.location.search,e=e||window.location.hash;var n=function(t,e){if(t){var n={};return t.replace(e,(function(t,e,a,o){n[e]=o})),n}};return{search:n(t,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:n(e,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}}function d(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){document.body.scrollTop=t,document.documentElement.scrollTop=t}),500)}function l(t){var e=r.a.baseUrl+"/api/home/user/safe?token="+r.a.token;Object(c.a)(e,"post",{uid:t.state.user.uid,auth_token:t.state.user.authToken}).then((function(e){200!==e.code&&(t.dispatch(i.a.user.outLogin()),t.dispatch(i.a.cart.clearCart()),t.history.replace(r.a.path+"login/index"))}))}function h(){var t=/micromessenger/i.test(navigator.userAgent),e=/QQ/i.test(navigator.userAgent),n=/Android/i.test(navigator.userAgent),a=/iphone/i.test(navigator.userAgent),o=/window/i.test(navigator.userAgent),i=/mac/i.test(navigator.userAgent);return t?0:a&&!e?1:n&&!e?2:o?3:i&&!e?4:e?5:void 0}},387:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"addHistoryKeywords",(function(){return r}));var o={};n.r(o),n.d(o,"addCart",(function(){return c})),n.d(o,"delItem",(function(){return s})),n.d(o,"checkItem",(function(){return u})),n.d(o,"setAllChecked",(function(){return d})),n.d(o,"incAmount",(function(){return l})),n.d(o,"decAmount",(function(){return h})),n.d(o,"changeAmount",(function(){return f})),n.d(o,"clearCart",(function(){return m}));var i={};function r(t){return{type:"addHk",data:t}}function c(t){return{type:"addCart",data:t}}function s(t){return{type:"delItem",data:t}}function u(t){return{type:"checkItem",data:t}}function d(t){return{type:"allItem",data:t}}function l(t){return{type:"incAmount",data:t}}function h(t){return{type:"decAmount",data:t}}function f(t){return{type:"changeAmount",data:t}}function m(t){return{type:"clearCart",data:t}}function b(t){return{type:"login",data:t}}function p(){return{type:"outLogin",data:{}}}n.r(i),n.d(i,"login",(function(){return b})),n.d(i,"outLogin",(function(){return p}));e.a={hk:a,cart:o,user:i}},390:function(t,e,n){var a,o;o=document,void 0===(a=function(){return function(t){var e,n,a,o,i,r={},c=function(){},s=function(t,e){if(function(t){return null===t.offsetParent}(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},u=function(){(o||!n)&&(clearTimeout(n),n=setTimeout((function(){r.render(),n=null}),a))};return r.init=function(n){var s=(n=n||{}).offset||0,d=n.offsetVertical||s,l=n.offsetHorizontal||s,h=function(t,e){return parseInt(t||e,10)};e={t:h(n.offsetTop,d),b:h(n.offsetBottom,d),l:h(n.offsetLeft,l),r:h(n.offsetRight,l)},a=h(n.throttle,250),o=!1!==n.debounce,i=!!n.unload,c=n.callback||c,r.render(),document.addEventListener?(t.addEventListener("scroll",u,!1),t.addEventListener("load",u,!1)):(t.attachEvent("onscroll",u),t.attachEvent("onload",u))},r.render=function(){for(var n,a,o=document.querySelectorAll("img[data-echo], [data-echo-background]"),u=o.length,d={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},l=0;u>l;l++)a=o[l],s(a,d)?(i&&a.setAttribute("data-echo-placeholder",a.src),null!==a.getAttribute("data-echo-background")?a.style.backgroundImage="url("+a.getAttribute("data-echo-background")+")":a.src=a.getAttribute("data-echo"),i||(a.removeAttribute("data-echo"),a.removeAttribute("data-echo-background")),c(a,"load")):i&&(n=a.getAttribute("data-echo-placeholder"))&&(null!==a.getAttribute("data-echo-background")?a.style.backgroundImage="url("+n+")":a.src=n,a.removeAttribute("data-echo-placeholder"),c(a,"unload"));u||r.detach()},r.detach=function(){document.removeEventListener?t.removeEventListener("scroll",u):t.detachEvent("onscroll",u),clearTimeout(n)},r}(o)}.call(e,n,e,t))||(t.exports=a)},517:function(t,e,n){t.exports={"details-header":"details_details-header__O8LSX",back:"details_back__lHZTz","tab-wrap":"details_tab-wrap__2WL3P","tab-name":"details_tab-name__30qAw",active:"details_active__3uKSR","cart-icon":"details_cart-icon__NAjbY",spot:"details_spot__3DI8u","sub-page":"details_sub-page__16s7v"}},578:function(t,e,n){"use strict";n.r(e);var a=n(52),o=n(53),i=n(55),r=n(54),c=n(1),s=n.n(c),u=n(118),d=n(37),l=n(11),h=n(385),f=n(517),m=n.n(f),b=n(7),p=Object(l.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(18)]).then(n.bind(null,566))})),g=Object(l.a)((function(){return n.e(37).then(n.bind(null,569))})),v=Object(l.a)((function(){return n.e(30).then(n.bind(null,571))})),y=function(t){Object(i.a)(n,t);var e=Object(r.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).state={gid:""!==t.location.search?Object(h.c)(t.location.search).search.gid:"",tabStyle:{bItem:!0,bContent:!1,bReviews:!1}},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setTabStyle(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setTabStyle(t)}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"setTabStyle",value:function(t){switch(t.location.pathname){case b.a.path+"goods/details/item":this.setState({tabStyle:{bItem:!0,bContent:!1,bReviews:!1}});break;case b.a.path+"goods/details/content":this.setState({tabStyle:{bItem:!1,bContent:!0,bReviews:!1}});break;case b.a.path+"goods/details/reviews":this.setState({tabStyle:{bItem:!1,bContent:!1,bReviews:!0}})}}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"replacePage",value:function(t){this.props.history.replace(b.a.path+t)}},{key:"pushPage",value:function(t){this.props.history.push(b.a.path+t)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:m.a["details-header"]},s.a.createElement("div",{className:m.a.back,onClick:this.goBack.bind(this)}),s.a.createElement("div",{className:m.a["tab-wrap"]},s.a.createElement("div",{className:this.state.tabStyle.bItem?m.a["tab-name"]+" "+m.a.active:m.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/item?gid="+this.state.gid)},"\u5546\u54c1"),s.a.createElement("div",{className:this.state.tabStyle.bContent?m.a["tab-name"]+" "+m.a.active:m.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/content?gid="+this.state.gid)},"\u8be6\u60c5"),s.a.createElement("div",{className:this.state.tabStyle.bReviews?m.a["tab-name"]+" "+m.a.active:m.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/reviews?gid="+this.state.gid)},"\u8bc4\u4ef7")),s.a.createElement("div",{id:"cart-icon",className:m.a["cart-icon"],onClick:this.pushPage.bind(this,"home/cart")},s.a.createElement("div",{className:this.props.state.cart.aCartData.length>0?m.a.spot:"hide"}))),s.a.createElement("div",{className:m.a.subpage},s.a.createElement(d.d,null,s.a.createElement(d.b,{path:b.a.path+"goods/details/item",component:p}),s.a.createElement(d.b,{path:b.a.path+"goods/details/content",component:g}),s.a.createElement(d.b,{path:b.a.path+"goods/details/reviews",component:v}),s.a.createElement(d.a,{to:b.a.path+"goods/details/item"}))))}}]),n}(s.a.Component);e.default=Object(u.b)((function(t){return{state:t}}))(y)}}]);
//# sourceMappingURL=28.f4d1be1b.chunk.js.map
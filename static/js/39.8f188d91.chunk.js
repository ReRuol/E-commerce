(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[39],{558:function(e,t,a){"use strict";a.r(t),function(e){var i=a(52),s=a(53),l=a(55),o=a(54),n=a(1),c=a.n(n),r=a(465),d=a.n(r),m=a(118),g=(a(466),a(7)),_=a(382),p=a(385),v=a(559),u=a.n(v),h=a(427),x=function(t){Object(l.a)(r,t);var n=Object(o.a)(r);function r(){var e;return Object(i.a)(this,r),(e=n.call(this)).state={aSwiper:[],aNav:[],aGoods:[],aRecoGoods:[],bScroll:!1,pageStyle:{display:"none"}},e.bScroll=!0,e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){Object(p.e)(e.scrollTop.index),this.getSwiper(),this.getNav(),this.getGoodsLevel(),this.getReco(),window.addEventListener("scroll",this.eventScroll.bind(this),!1)}},{key:"componentWillUnmount",value:function(){this.bScroll=!1,window.removeEventListener("scroll",this.eventScroll.bind(this)),this.setState=function(e,t){}}},{key:"eventScroll",value:function(){if(this.bScroll){var t=document.documentElement.scrollTop||document.body.scrollTop;e.scrollTop.index=t,t>=80?this.setState({bScroll:!0}):this.setState({bScroll:!1})}}},{key:"getSwiper",value:function(){var e=this;Object(_.a)(g.a.baseUrl+"/api/home/index/slide?token="+g.a.token).then((function(t){200===t.code&&e.setState({aSwiper:t.data},(function(){new d.a(e.refs["swiper-wrap"],{autoplay:3500,pagination:".swiper-pagination",autoplayDisableOnInteraction:!1})}))}))}},{key:"getNav",value:function(){var e=this;Object(_.a)(g.a.baseUrl+"/api/home/index/nav?token="+g.a.token).then((function(t){200===t.code&&e.setState({aNav:t.data})}))}},{key:"getGoodsLevel",value:function(){var e=this;Object(_.a)(g.a.baseUrl+"/api/home/index/goodsLevel?token="+g.a.token).then((function(t){200===t.code&&e.setState({aGoods:t.data},(function(){Object(p.b)()}))}))}},{key:"getReco",value:function(){var e=this;Object(_.a)(g.a.baseUrl+"/api/home/index/recom?token="+g.a.token).then((function(t){200===t.code&&e.setState({aRecoGoods:t.data},(function(){Object(p.b)()}))}))}},{key:"pushPage",value:function(e){this.props.history.push(g.a.path+e)}},{key:"showSearch",value:function(){this.setState({pageStyle:{display:"block"}})}},{key:"getStyle",value:function(e){this.setState({pageStyle:e})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:u.a.page},c.a.createElement("div",{className:u.a["search-header"]+" "+u.a["red-bg"]},c.a.createElement("div",{className:u.a["classify-icon"],onClick:this.pushPage.bind(this,"goods/classify")}),c.a.createElement("div",{className:u.a["search-wrap"],onClick:this.showSearch.bind(this)},c.a.createElement("div",{className:u.a["search-icon"]}),c.a.createElement("div",{className:u.a["search-text"]},"\u8bf7\u8f93\u5165\u5b9d\u8d1d\u540d\u79f0")),c.a.createElement("div",{className:u.a["login-wrap"]},this.props.state.user.isLogin?c.a.createElement("div",{className:u.a.my,onClick:this.pushPage.bind(this,"home/my")}):c.a.createElement("div",{className:u.a["login-text"],onClick:this.pushPage.bind(this,"login/index")},"\u767b\u5f55"))),c.a.createElement("div",{ref:"swiper-wrap",className:u.a["swiper-wrap"]},c.a.createElement("div",{className:"swiper-wrapper"},null!=this.state.aSwiper?this.state.aSwiper.map((function(e,t){return c.a.createElement("div",{key:t,className:"swiper-slide"},c.a.createElement("a",{href:e.webs,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("img",{src:e.image,alt:e.title})))})):""),c.a.createElement("div",{className:"swiper-pagination"})),c.a.createElement("div",{className:u.a["quick-nav"]},null!=this.state.aNav?this.state.aNav.map((function(t,a){return c.a.createElement("ul",{key:a,className:u.a.item},c.a.createElement("li",{className:u.a["item-img"]},c.a.createElement("img",{src:t.image,onClick:e.pushPage.bind(e,"goods/classify/items?cid="+t.cid),alt:t.title})),c.a.createElement("li",{className:u.a["item-text"]},t.title))})):""),null!=this.state.aGoods?this.state.aGoods.map((function(t,i){return c.a.createElement("div",{key:i,className:u.a["goods-level-wrap"]},c.a.createElement("div",{className:u.a["classify-title"]+" "+u.a["color"+(i+1)]},"\u2014\u2014 ",t.title," \u2014\u2014"),i%2===1?c.a.createElement("div",{className:u.a["goods-level1-wrap"]},null!=t.items?t.items.slice(0,2).map((function(t,i){return c.a.createElement("div",{key:i,onClick:e.pushPage.bind(e,"goods/details/item?gid="+t.gid),className:u.a["goods-level1-item0"]},c.a.createElement("div",{className:u.a["goods-title2"]},t.title),c.a.createElement("div",{className:u.a["goods-text2"]},"\u706b\u7206\u5f00\u552e"),c.a.createElement("div",{className:u.a["goods-img2"]},c.a.createElement("img",{"data-echo":t.image,src:a(400),alt:t.title})))})):""):c.a.createElement("div",{className:u.a["goods-level1-wrap"]},c.a.createElement("div",{className:u.a["goods-level1-item0"],onClick:e.pushPage.bind(e,"goods/details/item?gid="+(null!=t.items[0].gid?t.items[0].gid:""))},c.a.createElement("div",{className:u.a["goods-title"]},null!=t.items?t.items[0].title:""),c.a.createElement("div",{className:u.a["goods-text"]},"\u7cbe\u54c1\u6253\u6298"),c.a.createElement("div",{className:u.a["goods-price"+(i+1)]},null!=t.items?t.items[0].price:"","\u5143"),c.a.createElement("div",{className:u.a["goods-img"]},c.a.createElement("img",{"data-echo":null!=t.items?t.items[0].image:"",src:a(400),alt:null!=t.items?t.items[0].title:""}))),c.a.createElement("div",{className:u.a["goods-level1-item1"]},null!=t.items?t.items.slice(1,3).map((function(t,i){return c.a.createElement("div",{key:i,className:u.a["goods-row"],onClick:e.pushPage.bind(e,"goods/details/item?gid="+t.gid)},c.a.createElement("div",{className:u.a["goods-row-title"]},t.title),c.a.createElement("div",{className:u.a["goods-row-text"]},"\u54c1\u8d28\u7cbe\u6311"),c.a.createElement("div",{className:u.a["goods-row-img"]},c.a.createElement("img",{src:a(400),"data-echo":t.image,alt:t.title})))})):"")),c.a.createElement("div",{className:u.a["goods-list-wrap"]},null!=t.items?t.items.slice(i%2===1?2:3).map((function(t,i){return c.a.createElement("div",{key:i,className:u.a["goods-list"],onClick:e.pushPage.bind(e,"goods/details/item?gid="+t.gid)},c.a.createElement("div",{className:u.a.title},t.title),c.a.createElement("div",{className:u.a.image},c.a.createElement("img",{src:a(400),"data-echo":t.image,alt:t.title})),c.a.createElement("div",{className:u.a.price},"\xa5",t.price),c.a.createElement("div",{className:u.a.unprice},"\xa5",2*t.price))})):""))})):"",c.a.createElement("div",{className:u.a["reco-title-wrap"]},c.a.createElement("div",{className:u.a.line}),c.a.createElement("div",{className:u.a["reco-text-wrap"]},c.a.createElement("div",{className:u.a["reco-icon"]}),c.a.createElement("div",{className:u.a["reco-text"]},"\u4e3a\u60a8\u63a8\u8350")),c.a.createElement("div",{className:u.a.line})),c.a.createElement("div",{className:u.a["reco-item-wrap"]},null!=this.state.aRecoGoods?this.state.aRecoGoods.map((function(t,i){return c.a.createElement("div",{key:i,className:u.a["reco-item"],onClick:e.pushPage.bind(e,"goods/details/item?gid="+t.gid)},c.a.createElement("div",{className:u.a.image},c.a.createElement("img",{src:a(400),alt:t.title,"data-echo":t.image})),c.a.createElement("div",{className:u.a.title},t.title),c.a.createElement("div",{className:u.a.price},"\xa5",t.price))})):""),c.a.createElement(h.a,{pageStyle:this.state.pageStyle,childStyle:this.getStyle.bind(this)}))}}]),r}(c.a.Component);t.default=Object(m.b)((function(e){return{state:e}}))(x)}.call(this,a(57))},559:function(e,t,a){e.exports={page:"index_page__3ByLG","search-header":"index_search-header__1qjUf","red-bg":"index_red-bg__2rZag","classify-icon":"index_classify-icon__3fieJ","search-wrap":"index_search-wrap__2Vlxe","search-icon":"index_search-icon__1UING","search-text":"index_search-text__16L3u","login-wrap":"index_login-wrap__2HX-h","login-text":"index_login-text__2y1_e",my:"index_my__2uJvm","swiper-wrap":"index_swiper-wrap__1aXFq","quick-nav":"index_quick-nav__3Cz0k",item:"index_item__3UPsk","item-img":"index_item-img__1gKYg","item-text":"index_item-text__3N7jA","goods-level-wrap":"index_goods-level-wrap__1mrpL","classify-title":"index_classify-title__3v4ma",color1:"index_color1__1s_UO",color2:"index_color2__nNT0P",color3:"index_color3__3JEGu","goods-level1-wrap":"index_goods-level1-wrap__1_151","goods-level1-item0":"index_goods-level1-item0__30XEf","goods-title2":"index_goods-title2__pZ1RS","goods-text2":"index_goods-text2__3iZmm","goods-img2":"index_goods-img2__1R0y4","goods-level1-item1":"index_goods-level1-item1__1zE8X","goods-title":"index_goods-title__uqXgC","goods-text":"index_goods-text__2zF73","goods-price1":"index_goods-price1__2p32p","goods-price3":"index_goods-price3__2BzSu","goods-img":"index_goods-img__HW1vo","goods-row":"index_goods-row__3VIiy","goods-row-title":"index_goods-row-title__3yF3v","goods-row-text":"index_goods-row-text__1WkeY","goods-row-img":"index_goods-row-img__bU_wh","goods-list-wrap":"index_goods-list-wrap__3ja9S","goods-list":"index_goods-list__3Zp9P",title:"index_title__mepWU",image:"index_image__1XR84",price:"index_price__3j-w8",unprice:"index_unprice__Kh9Gz","reco-title-wrap":"index_reco-title-wrap__24yWf",line:"index_line__3r2HV","reco-text-wrap":"index_reco-text-wrap__3T-hF","reco-icon":"index_reco-icon__21cuV","reco-text":"index_reco-text__1jOBK","reco-item-wrap":"index_reco-item-wrap__1NC1U","reco-item":"index_reco-item__3XdbR"}}}]);
//# sourceMappingURL=39.8f188d91.chunk.js.map
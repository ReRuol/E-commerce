(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[28],{382:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(69),o=n.n(a),r=n(160),c=o.a.findDOMNode(document.getElementById("page-load"));function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get".toLocaleLowerCase(),n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u();var a={},o={},c="";if(e==="file".toLocaleLowerCase()){if(e="post",n instanceof Object)for(var i in c=new FormData,n)c.append(i,n[i]);a={method:e,body:c}}else if(e==="get".toLocaleLowerCase())a={method:e};else{if(o={"Content-Type":"application/x-www-form-urlencoded"},n instanceof Object){for(var l in n)c+="&".concat(l,"=").concat(encodeURIComponent(n[l]));c=c.slice(1)}a={method:e,headers:o,body:c}}return Object(r.a)(t,a).then((function(t){return s(),t.json()}))}function u(){c.style.display="block"}function s(){c.style.display="none"}},386:function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return l})),n.d(e,"c",(function(){return d}));var a=n(390),o=n.n(a),r=n(388),c=n(7),i=n(382);function u(){o.a.init({offset:100,throttle:0})}function s(t,e){t=t||window.location.search,e=e||window.location.hash;var n=function(t,e){if(t){var n={};return t.replace(e,(function(t,e,a,o){n[e]=o})),n}};return{search:n(t,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:n(e,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}}function l(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){document.body.scrollTop=t,document.documentElement.scrollTop=t}),500)}function d(t){var e=c.a.baseUrl+"/api/home/user/safe?token="+c.a.token;Object(i.a)(e,"post",{uid:t.state.user.uid,auth_token:t.state.user.authToken}).then((function(e){200!==e.code&&(t.dispatch(r.a.user.outLogin()),t.dispatch(r.a.cart.clearCart()),t.history.replace(c.a.path+"login/index"))}))}},388:function(t,e,n){"use strict";var a={};n.r(a),n.d(a,"addHistoryKeywords",(function(){return c}));var o={};n.r(o),n.d(o,"addCart",(function(){return i})),n.d(o,"delItem",(function(){return u})),n.d(o,"checkItem",(function(){return s})),n.d(o,"setAllChecked",(function(){return l})),n.d(o,"incAmount",(function(){return d})),n.d(o,"decAmount",(function(){return h})),n.d(o,"changeAmount",(function(){return f})),n.d(o,"clearCart",(function(){return b}));var r={};function c(t){return{type:"addHk",data:t}}function i(t){return{type:"addCart",data:t}}function u(t){return{type:"delItem",data:t}}function s(t){return{type:"checkItem",data:t}}function l(t){return{type:"allItem",data:t}}function d(t){return{type:"incAmount",data:t}}function h(t){return{type:"decAmount",data:t}}function f(t){return{type:"changeAmount",data:t}}function b(t){return{type:"clearCart",data:t}}function m(t){return{type:"login",data:t}}function p(){return{type:"outLogin",data:{}}}n.r(r),n.d(r,"login",(function(){return m})),n.d(r,"outLogin",(function(){return p}));e.a={hk:a,cart:o,user:r}},390:function(t,e,n){var a,o;o=document,void 0===(a=function(){return function(t){var e,n,a,o,r,c={},i=function(){},u=function(t,e){if(function(t){return null===t.offsetParent}(t))return!1;var n=t.getBoundingClientRect();return n.right>=e.l&&n.bottom>=e.t&&n.left<=e.r&&n.top<=e.b},s=function(){(o||!n)&&(clearTimeout(n),n=setTimeout((function(){c.render(),n=null}),a))};return c.init=function(n){var u=(n=n||{}).offset||0,l=n.offsetVertical||u,d=n.offsetHorizontal||u,h=function(t,e){return parseInt(t||e,10)};e={t:h(n.offsetTop,l),b:h(n.offsetBottom,l),l:h(n.offsetLeft,d),r:h(n.offsetRight,d)},a=h(n.throttle,250),o=!1!==n.debounce,r=!!n.unload,i=n.callback||i,c.render(),document.addEventListener?(t.addEventListener("scroll",s,!1),t.addEventListener("load",s,!1)):(t.attachEvent("onscroll",s),t.attachEvent("onload",s))},c.render=function(){for(var n,a,o=document.querySelectorAll("img[data-echo], [data-echo-background]"),s=o.length,l={l:0-e.l,t:0-e.t,b:(t.innerHeight||document.documentElement.clientHeight)+e.b,r:(t.innerWidth||document.documentElement.clientWidth)+e.r},d=0;s>d;d++)a=o[d],u(a,l)?(r&&a.setAttribute("data-echo-placeholder",a.src),null!==a.getAttribute("data-echo-background")?a.style.backgroundImage="url("+a.getAttribute("data-echo-background")+")":a.src=a.getAttribute("data-echo"),r||(a.removeAttribute("data-echo"),a.removeAttribute("data-echo-background")),i(a,"load")):r&&(n=a.getAttribute("data-echo-placeholder"))&&(null!==a.getAttribute("data-echo-background")?a.style.backgroundImage="url("+n+")":a.src=n,a.removeAttribute("data-echo-placeholder"),i(a,"unload"));s||c.detach()},c.detach=function(){document.removeEventListener?t.removeEventListener("scroll",s):t.detachEvent("onscroll",s),clearTimeout(n)},c}(o)}.call(e,n,e,t))||(t.exports=a)},517:function(t,e,n){t.exports={"details-header":"_39iJhqDMi8YX65ydYSRUnr",back:"zM4MSf9ke9IzEurcST2Ob","tab-wrap":"sUeU76Cx6O7XR0LYpLbon","tab-name":"_1ACbRNc5nRVjRikYmscyoi",active:"_2_0AW-Pp-UxtnCGY0opozU","cart-icon":"_2FaTkfZ93eew3q9DaOvLg5",spot:"_1Ke1fqwNp6l6u_O7C_265m","sub-page":"_1oAhCvCaFUjlZlnbKecB1M"}},578:function(t,e,n){"use strict";n.r(e);var a=n(52),o=n(53),r=n(55),c=n(54),i=n(1),u=n.n(i),s=n(118),l=n(37),d=n(11),h=n(386),f=n(517),b=n.n(f),m=n(7),p=Object(d.a)((function(){return Promise.all([n.e(0),n.e(6),n.e(18)]).then(n.bind(null,566))})),g=Object(d.a)((function(){return n.e(37).then(n.bind(null,569))})),v=Object(d.a)((function(){return n.e(30).then(n.bind(null,571))})),y=function(t){Object(r.a)(n,t);var e=Object(c.a)(n);function n(t){var o;return Object(a.a)(this,n),(o=e.call(this,t)).state={gid:""!==t.location.search?Object(h.b)(t.location.search).search.gid:"",tabStyle:{bItem:!0,bContent:!1,bReviews:!1}},o}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.setTabStyle(this.props)}},{key:"UNSAFE_componentWillReceiveProps",value:function(t){this.setTabStyle(t)}},{key:"componentWillUnmount",value:function(){this.setState=function(t,e){}}},{key:"setTabStyle",value:function(t){switch(t.location.pathname){case m.a.path+"goods/details/item":this.setState({tabStyle:{bItem:!0,bContent:!1,bReviews:!1}});break;case m.a.path+"goods/details/content":this.setState({tabStyle:{bItem:!1,bContent:!0,bReviews:!1}});break;case m.a.path+"goods/details/reviews":this.setState({tabStyle:{bItem:!1,bContent:!1,bReviews:!0}})}}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"replacePage",value:function(t){this.props.history.replace(m.a.path+t)}},{key:"pushPage",value:function(t){this.props.history.push(m.a.path+t)}},{key:"render",value:function(){return u.a.createElement("div",null,u.a.createElement("div",{className:b.a["details-header"]},u.a.createElement("div",{className:b.a.back,onClick:this.goBack.bind(this)}),u.a.createElement("div",{className:b.a["tab-wrap"]},u.a.createElement("div",{className:this.state.tabStyle.bItem?b.a["tab-name"]+" "+b.a.active:b.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/item?gid="+this.state.gid)},"\u5546\u54c1"),u.a.createElement("div",{className:this.state.tabStyle.bContent?b.a["tab-name"]+" "+b.a.active:b.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/content?gid="+this.state.gid)},"\u8be6\u60c5"),u.a.createElement("div",{className:this.state.tabStyle.bReviews?b.a["tab-name"]+" "+b.a.active:b.a["tab-name"],onClick:this.replacePage.bind(this,"goods/details/reviews?gid="+this.state.gid)},"\u8bc4\u4ef7")),u.a.createElement("div",{id:"cart-icon",className:b.a["cart-icon"],onClick:this.pushPage.bind(this,"home/cart")},u.a.createElement("div",{className:this.props.state.cart.aCartData.length>0?b.a.spot:"hide"}))),u.a.createElement("div",{className:b.a.subpage},u.a.createElement(l.d,null,u.a.createElement(l.b,{path:m.a.path+"goods/details/item",component:p}),u.a.createElement(l.b,{path:m.a.path+"goods/details/content",component:g}),u.a.createElement(l.b,{path:m.a.path+"goods/details/reviews",component:v}),u.a.createElement(l.a,{to:m.a.path+"goods/details/item"}))))}}]),n}(u.a.Component);e.default=Object(s.b)((function(t){return{state:t}}))(y)}}]);
//# sourceMappingURL=28.cd7956ff.chunk.js.map
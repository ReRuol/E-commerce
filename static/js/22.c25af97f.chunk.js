(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[22],{382:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(69),r=a.n(n),s=a(160),d=r.a.findDOMNode(document.getElementById("page-load"));function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get".toLocaleLowerCase(),a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i();var n={},r={},d="";if(t==="file".toLocaleLowerCase()){if(t="post",a instanceof Object)for(var o in d=new FormData,a)d.append(o,a[o]);n={method:t,body:d}}else if(t==="get".toLocaleLowerCase())n={method:t};else{if(r={"Content-Type":"application/x-www-form-urlencoded"},a instanceof Object){for(var u in a)d+="&".concat(u,"=").concat(encodeURIComponent(a[u]));d=d.slice(1)}n={method:t,headers:r,body:d}}return Object(s.a)(e,n).then((function(e){return c(),e.json()}))}function i(){d.style.display="block"}function c(){d.style.display="none"}},385:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return u})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return f}));var n=a(390),r=a.n(n),s=a(387),d=a(7),o=a(382);function i(){r.a.init({offset:100,throttle:0})}function c(e,t){e=e||window.location.search,t=t||window.location.hash;var a=function(e,t){if(e){var a={};return e.replace(t,(function(e,t,n,r){a[t]=r})),a}};return{search:a(e,new RegExp("([^?=&]+)(=([^&]*))?","g"))||{},hash:a(t,new RegExp("([^#=&]+)(=([^&]*))?","g"))||{}}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;setTimeout((function(){document.body.scrollTop=e,document.documentElement.scrollTop=e}),500)}function l(e){var t=d.a.baseUrl+"/api/home/user/safe?token="+d.a.token;Object(o.a)(t,"post",{uid:e.state.user.uid,auth_token:e.state.user.authToken}).then((function(t){200!==t.code&&(e.dispatch(s.a.user.outLogin()),e.dispatch(s.a.cart.clearCart()),e.history.replace(d.a.path+"login/index"))}))}function f(){var e=/micromessenger/i.test(navigator.userAgent),t=/QQ/i.test(navigator.userAgent),a=/Android/i.test(navigator.userAgent),n=/iphone/i.test(navigator.userAgent),r=/window/i.test(navigator.userAgent),s=/mac/i.test(navigator.userAgent);return e?0:n&&!t?1:a&&!t?2:r?3:s&&!t?4:t?5:void 0}},387:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"addHistoryKeywords",(function(){return d}));var r={};a.r(r),a.d(r,"addCart",(function(){return o})),a.d(r,"delItem",(function(){return i})),a.d(r,"checkItem",(function(){return c})),a.d(r,"setAllChecked",(function(){return u})),a.d(r,"incAmount",(function(){return l})),a.d(r,"decAmount",(function(){return f})),a.d(r,"changeAmount",(function(){return h})),a.d(r,"clearCart",(function(){return m}));var s={};function d(e){return{type:"addHk",data:e}}function o(e){return{type:"addCart",data:e}}function i(e){return{type:"delItem",data:e}}function c(e){return{type:"checkItem",data:e}}function u(e){return{type:"allItem",data:e}}function l(e){return{type:"incAmount",data:e}}function f(e){return{type:"decAmount",data:e}}function h(e){return{type:"changeAmount",data:e}}function m(e){return{type:"clearCart",data:e}}function p(e){return{type:"login",data:e}}function v(){return{type:"outLogin",data:{}}}a.r(s),a.d(s,"login",(function(){return p})),a.d(s,"outLogin",(function(){return v}));t.a={hk:n,cart:r,user:s}},388:function(e,t,a){"use strict";var n=a(52),r=a(53),s=a(55),d=a(54),o=a(1),i=a.n(o),c=a(37),u=a(7),l=a(389),f=a.n(l),h=function(e){Object(s.a)(a,e);var t=Object(d.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(r.a)(a,[{key:"componentDidMount",value:function(){}},{key:"goBack",value:function(){this.props.location.pathname===u.a.path+"address/index"?this.props.history.replace(u.a.path+"balance/index"):this.props.history.goBack()}},{key:"getClick",value:function(){this.props.onClickRightBtn()}},{key:"render",value:function(){return i.a.createElement("div",{className:f.a["sub-header"]},i.a.createElement("div",{className:f.a.back,onClick:this.goBack.bind(this)}),i.a.createElement("div",{className:f.a.title},this.props.title),i.a.createElement("div",{className:""!==this.props["right-text"]?f.a["right-btn"]:"hide",onClick:this.getClick.bind(this)},this.props["right-text"]))}}]),a}(i.a.Component);t.a=Object(c.g)(h)},389:function(e,t,a){e.exports={"sub-header":"subHeader_sub-header__1pvh_",back:"subHeader_back__3K4yL",title:"subHeader_title__1gr8C","right-btn":"subHeader_right-btn__1-dOl"}},390:function(e,t,a){var n,r;r=document,void 0===(n=function(){return function(e){var t,a,n,r,s,d={},o=function(){},i=function(e,t){if(function(e){return null===e.offsetParent}(e))return!1;var a=e.getBoundingClientRect();return a.right>=t.l&&a.bottom>=t.t&&a.left<=t.r&&a.top<=t.b},c=function(){(r||!a)&&(clearTimeout(a),a=setTimeout((function(){d.render(),a=null}),n))};return d.init=function(a){var i=(a=a||{}).offset||0,u=a.offsetVertical||i,l=a.offsetHorizontal||i,f=function(e,t){return parseInt(e||t,10)};t={t:f(a.offsetTop,u),b:f(a.offsetBottom,u),l:f(a.offsetLeft,l),r:f(a.offsetRight,l)},n=f(a.throttle,250),r=!1!==a.debounce,s=!!a.unload,o=a.callback||o,d.render(),document.addEventListener?(e.addEventListener("scroll",c,!1),e.addEventListener("load",c,!1)):(e.attachEvent("onscroll",c),e.attachEvent("onload",c))},d.render=function(){for(var a,n,r=document.querySelectorAll("img[data-echo], [data-echo-background]"),c=r.length,u={l:0-t.l,t:0-t.t,b:(e.innerHeight||document.documentElement.clientHeight)+t.b,r:(e.innerWidth||document.documentElement.clientWidth)+t.r},l=0;c>l;l++)n=r[l],i(n,u)?(s&&n.setAttribute("data-echo-placeholder",n.src),null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+n.getAttribute("data-echo-background")+")":n.src=n.getAttribute("data-echo"),s||(n.removeAttribute("data-echo"),n.removeAttribute("data-echo-background")),o(n,"load")):s&&(a=n.getAttribute("data-echo-placeholder"))&&(null!==n.getAttribute("data-echo-background")?n.style.backgroundImage="url("+a+")":n.src=a,n.removeAttribute("data-echo-placeholder"),o(n,"unload"));c||d.detach()},d.detach=function(){document.removeEventListener?e.removeEventListener("scroll",c):e.detachEvent("onscroll",c),clearTimeout(a)},d}(r)}.call(t,a,t,e))||(e.exports=n)},526:function(e,t,a){e.exports={page:"address_page__2lISK",main:"address_main__jy64s","address-nav":"address_address-nav__1FlWD","address-nav-name-1":"address_address-nav-name-1__1n9XZ","address-nav-name-2":"address_address-nav-name-2__3hhUA","address-list":"address_address-list__1U1a_","address-info-wrap":"address_address-info-wrap__31ZpN","check-mark":"address_check-mark__3kjot","address-info":"address_address-info__2E5A_",person:"address_person__2CMJo",address:"address_address__3QTnS",default:"address_default__tSENA","handle-wrap":"address_handle-wrap__eQact",edit:"address_edit__15YED",del:"address_del__qWY4k"}},583:function(e,t,a){"use strict";a.r(t);a(414);var n=a(415),r=a.n(n),s=a(52),d=a(53),o=a(55),i=a(54),c=a(1),u=a.n(c),l=a(118),f=a(7),h=a(382),m=a(385),p=a(388),v=a(526),g=a.n(v),b=function(e){Object(o.a)(a,e);var t=Object(i.a)(a);function a(e){var n;return Object(s.a)(this,a),n=t.call(this,e),Object(m.d)(e),n.state={aAddress:[]},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){Object(m.e)(),this.getAddress()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"pushPage",value:function(e){this.props.history.push(f.a.path+e)}},{key:"delAddress",value:function(e,t,a){var n=this;e.stopPropagation(),r.a.alert("","\u786e\u8ba4\u8981\u5220\u9664\u5417\uff1f",[{text:"\u53d6\u6d88",onPress:function(){},style:"default"},{text:"\u786e\u8ba4",onPress:function(){var e=n.state.aAddress;e.splice(t,1),n.setState({aAddress:e});var r=f.a.baseUrl+"/api/user/address/del?uid="+n.props.state.user.uid+"&aid="+a+"&token="+f.a.token;Object(h.a)(r).then((function(e){200===e.code&&(a===sessionStorage.addressId&&sessionStorage.removeItem("addressId"),a===localStorage.addressId&&localStorage.removeItem("addressId"))}))}}])}},{key:"getAddress",value:function(){var e=this,t=f.a.baseUrl+"/api/user/address/index?uid="+this.props.state.user.uid+"&token="+f.a.token;Object(h.a)(t).then((function(t){200===t.code&&e.setState({aAddress:t.data})}))}},{key:"selectAddress",value:function(e){sessionStorage.addressId=e,this.props.history.replace(f.a.path+"balance/index")}},{key:"modAddress",value:function(e,t){e.stopPropagation(),this.pushPage("address/mod?aid="+t)}},{key:"render",value:function(){var e=this;return u.a.createElement("div",{className:g.a.page},u.a.createElement(p.a,{title:"\u9009\u62e9\u6536\u8d27\u5730\u5740"}),u.a.createElement("div",{className:g.a.main},u.a.createElement("div",{className:g.a["address-nav"]},u.a.createElement("div",{className:g.a["address-nav-name-1"]},"\u914d\u9001\u5730\u5740"),u.a.createElement("div",{className:g.a["address-nav-name-2"],onClick:this.pushPage.bind(this,"address/add")},"\u271a\u6dfb\u52a0\u6536\u8d27\u5730\u5740")),this.state.aAddress.length>0?this.state.aAddress.map((function(t,a){return u.a.createElement("div",{key:a,className:g.a["address-list"],onClick:e.selectAddress.bind(e,t.aid)},u.a.createElement("div",{className:g.a["address-info-wrap"]},u.a.createElement("div",{className:"1"===t.isdefault?g.a["check-mark"]:"hide"}),u.a.createElement("div",{className:g.a["address-info"]},u.a.createElement("div",{className:g.a.person},u.a.createElement("span",null,t.name),u.a.createElement("span",null,t.cellphone)),u.a.createElement("div",{className:g.a.address},u.a.createElement("span",{className:"1"===t.isdefault?g.a.default:"hide"},"\u9ed8\u8ba4"),u.a.createElement("span",null,t.province," ",t.city," ",t.area)))),u.a.createElement("div",{className:g.a["handle-wrap"]},u.a.createElement("div",{className:g.a.edit,onClick:function(a){e.modAddress(a,t.aid)}}),u.a.createElement("div",{className:g.a.del,onClick:function(n){e.delAddress(n,a,t.aid)}})))})):u.a.createElement("div",{className:"null-item"},"\u60a8\u8fd8\u672a\u6dfb\u52a0\u6536\u8d27\u5730\u5740")))}}]),a}(u.a.Component);t.default=Object(l.b)((function(e){return{state:e}}))(b)}}]);
//# sourceMappingURL=22.c25af97f.chunk.js.map
(this["webpackJsonpreact-test"]=this["webpackJsonpreact-test"]||[]).push([[36],{468:function(e,a,t){e.exports={"search-header":"classify_search-header__30aPJ",back:"classify_back__2MgQO",search:"classify_search__2T8Am","goods-main":"classify_goods-main__9q6xU","classify-wrap":"classify_classify-wrap__3fI1N","classify-item":"classify_classify-item__1zwKr",active:"classify_active__3ioHo","goods-content":"classify_goods-content__ACf_4"}},576:function(e,a,t){"use strict";t.r(a),t.d(a,"default",(function(){return b}));var s=t(52),i=t(53),l=t(55),c=t(54),n=t(1),o=t.n(n),r=t(37),f=t(11),h=t(7),y=t(426),m=t.n(y),u=t(468),d=t.n(u),p=t(382),v=t(385),g=t(427),C=Object(f.a)((function(){return t.e(33).then(t.bind(null,564))})),b=function(e){Object(l.a)(t,e);var a=Object(c.a)(t);function t(e){var i;return Object(s.a)(this,t),(i=a.call(this,e)).state={aClassify:[],pageStyle:{display:"none"}},i.myScroll=null,i.aTempClassify=[],i.cid=e.location.search?Object(v.c)(e.location.search).search.cid:"492",i}return Object(i.a)(t,[{key:"componentDidMount",value:function(){this.getClassifyData()}},{key:"componentWillUnmount",value:function(){this.setState=function(e,a){}}},{key:"replacePage",value:function(e){this.props.history.replace(h.a.path+e)}},{key:"goBack",value:function(){this.props.history.goBack()}},{key:"eventScroll",value:function(){var e=this.refs["scroll-classify"];e.addEventListener("touchmove",(function(e){e.preventDefault()}),{passive:!1}),this.myScroll=new m.a(e,{scrollX:!1,scrollY:!0,preventDefault:!1})}},{key:"getClassifyData",value:function(){var e=this;Object(p.a)(h.a.baseUrl+"/api/home/category/menu?token="+h.a.token).then((function(a){if(200===a.code){e.aTempClassify=a.data;for(var t=0;t<e.aTempClassify.length;t++)e.aTempClassify[t].bActive=!1;e.setState({aClassify:e.aTempClassify},(function(){e.eventScroll(),e.defaultClassifyStyle()}))}}))}},{key:"changeStyle",value:function(e,a){if(this.aTempClassify.length>0)for(var t=0;t<this.aTempClassify.length;t++)this.aTempClassify[t].bActive=!1;this.aTempClassify[a].bActive=!0,this.setState({aClassify:this.aTempClassify}),this.replacePage(e)}},{key:"defaultClassifyStyle",value:function(){if(this.aTempClassify.length>0){for(var e=0;e<this.aTempClassify.length;e++)if(this.aTempClassify[e].cid===this.cid){this.aTempClassify[e].bActive=!0;break}this.replacePage("goods/classify/items?cid="+this.cid),this.setState({aClassify:this.aTempClassify})}}},{key:"getStyle",value:function(e){this.setState({pageStyle:e})}},{key:"changeSearch",value:function(){this.setState({pageStyle:{display:"block"}})}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("div",{className:d.a["search-header"]},o.a.createElement("div",{className:d.a.back,onClick:this.goBack.bind(this)}),o.a.createElement("div",{className:d.a.search,onClick:this.changeSearch.bind(this)},"\u8bf7\u8f93\u5165\u5b9d\u8d1d\u540d\u79f0")),o.a.createElement("div",{className:d.a["goods-main"]},o.a.createElement("div",{ref:"scroll-classify",className:d.a["classify-wrap"]},o.a.createElement("div",null,null!=this.state.aClassify?this.state.aClassify.map((function(a,t){return o.a.createElement("div",{ref:"item-"+t,className:a.bActive?d.a["classify-item"]+" "+d.a.active:d.a["classify-item"],key:t,onClick:e.changeStyle.bind(e,"goods/classify/items?cid="+a.cid,t)},a.title)})):"",1===Object(v.a)()?o.a.createElement("div",{style:{width:"100%",height:"2.5rem"}}):o.a.createElement("div",{style:{width:"100%",height:"2.2rem"}}))),o.a.createElement("div",{className:d.a["goods-content"]},o.a.createElement(r.d,null,o.a.createElement(r.b,{path:h.a.path+"goods/classify/items",component:C})))),o.a.createElement(g.a,{pageStyle:this.state.pageStyle,childStyle:this.getStyle.bind(this)}))}}]),t}(o.a.Component)}}]);
//# sourceMappingURL=36.cde90fd8.chunk.js.map